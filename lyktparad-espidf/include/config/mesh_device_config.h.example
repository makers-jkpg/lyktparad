/* Device Configuration File - Example Template
 *
 * This is an example configuration file. To use it:
 * 1. Copy this file to mesh_device_config.h (from project root):
 *    cp include/config/mesh_device_config.h.example include/config/mesh_device_config.h
 * 2. Update the values below with your hardware-specific settings
 * 3. DO NOT commit mesh_device_config.h to version control (it's in .gitignore)
 *
 * WARNING: Never commit hardware-specific configurations to version control!
 *          Only commit this .example file with default values.
 */

#ifndef __MESH_DEVICE_CONFIG_H__
#define __MESH_DEVICE_CONFIG_H__

/*******************************************************
 *                LED Strip Configuration
 *******************************************************/

/* LED GPIO Pin - The GPIO pin connected to the WS2812 LED data line
 * This pin must be capable of RMT (Remote Control) peripheral output
 * Default: GPIO 10
 * Valid range: Most GPIO pins support RMT (check ESP32 datasheet for restrictions)
 * Change this if your LED is connected to a different pin
 * Note: Some GPIOs may have restrictions (e.g., GPIO 6-11 are typically flash/PSRAM)
 */
#define MESH_LED_GPIO            10

/* Number of Pixels - The number of WS2812 LEDs in the strip
 * This determines how many LEDs will be controlled simultaneously
 * Default: 1 (single LED)
 * Valid range: 1 to maximum supported by available memory
 * Change this if you have multiple LEDs in a strip
 * Note: More pixels require more memory and processing time
 */
#define MESH_LED_NUM_PIXELS      1

/* RMT Resolution - The resolution (frequency) for the RMT peripheral
 * This controls the timing precision for WS2812 communication protocol
 * Higher resolution allows more precise timing control
 * Default: 10,000,000 Hz (10 MHz)
 * Valid range: Typically 1 MHz to 80 MHz (check ESP32 RMT specifications)
 * Usually doesn't need to be changed unless you have timing issues
 * Note: WS2812 requires precise timing (800kHz data rate), default works for most cases
 */
#define MESH_LED_RMT_RES_HZ      10000000

/*******************************************************
 *                RGB LED Configuration (LEDC PWM)
 *******************************************************/

/* Enable RGB LED support - Uncomment this if your device has a common-cathode RGB LED
 * If not defined, RGB LED functions will be stubbed out (no-op)
 * This allows the code to compile and run on devices without RGB LEDs
 * Note: This implementation is for common-cathode LEDs only (cathodes to GND, anodes to GPIO)
 */
// #define RGB_ENABLE

#ifdef RGB_ENABLE
/* RGB LED Timer - LEDC timer used for PWM generation
 * Default: LEDC_TIMER_0
 * Valid values: LEDC_TIMER_0 through LEDC_TIMER_3
 * Change if you need to use a different timer for other purposes
 */
#define RGB_LEDC_TIMER           LEDC_TIMER_0

/* RGB LED Mode - LEDC speed mode
 * Default: LEDC_LOW_SPEED_MODE
 * Valid values: LEDC_LOW_SPEED_MODE or LEDC_HIGH_SPEED_MODE
 * High speed mode uses more power but allows higher frequencies
 */
#define RGB_LEDC_MODE            LEDC_LOW_SPEED_MODE

/* RGB LED Resolution - PWM duty cycle resolution in bits
 * Default: LEDC_TIMER_8_BIT (256 levels)
 * Valid values: LEDC_TIMER_1_BIT through LEDC_TIMER_20_BIT
 * Higher resolution provides smoother color transitions but uses more memory
 */
#define RGB_LEDC_RESOLUTION      LEDC_TIMER_8_BIT

/* RGB LED Frequency - PWM frequency in Hz
 * Default: 5000 Hz
 * Valid range: Depends on resolution and clock source
 * Higher frequencies reduce visible flicker but may cause issues with some LEDs
 */
#define RGB_LEDC_FREQUENCY_HZ    5000

/* RGB LED Channels - LEDC channel assignments for each color
 * Default: Green=CHANNEL_0, Red=CHANNEL_1, Blue=CHANNEL_2
 * Valid values: LEDC_CHANNEL_0 through LEDC_CHANNEL_7
 * Change if you need to avoid conflicts with other LEDC usage
 */
#define RGB_CHANNEL_G            LEDC_CHANNEL_0
#define RGB_CHANNEL_R            LEDC_CHANNEL_1
#define RGB_CHANNEL_B            LEDC_CHANNEL_2

/* RGB LED GPIO Pins - GPIO pins connected to RGB LED anodes (common cathode)
 * Note: This implementation is for common-cathode LEDs (cathodes connected to GND)
 * Default: Green=GPIO 0, Red=GPIO 1, Blue=GPIO 2
 * Valid range: Most GPIO pins support LEDC (check ESP32 datasheet for restrictions)
 * Change these to match your hardware connections
 * Note: Some GPIOs may have restrictions (e.g., GPIO 6-11 are typically flash/PSRAM)
 */
#define RGB_GPIO_G               0
#define RGB_GPIO_R               1
#define RGB_GPIO_B               2
#endif /* RGB_ENABLE */

/*******************************************************
 *                Root Status LED Configuration
 *******************************************************/

/* Root Status LED GPIO Pin - Optional single-color LED for root node status indication
 *
 * This is an OPTIONAL feature that is DISABLED BY DEFAULT (not set in this example).
 * If undefined, root status LED is disabled (no code compiled - zero overhead).
 *
 * When enabled, the LED blinks in different patterns based on router connection status and mesh node count:
 * - STARTUP (250ms ON - 750ms OFF): Router not connected, no nodes
 * - ROUTER_ONLY (125ms ON - 125ms OFF - 125ms ON - 625ms OFF): Router connected, no nodes
 * - NODES_ONLY (125ms ON - 375ms OFF - 125ms ON - 375ms OFF): No router, 1+ nodes connected
 * - ROUTER_AND_NODES (125ms ON - 125ms OFF × 4): Router connected, 1+ nodes connected
 * - OFF: Child node (not root)
 *
 * To enable this feature, uncomment and set the GPIO pin:
 * #define ROOT_STATUS_LED_GPIO      3
 *
 * Valid range: Most GPIO pins (check ESP32 datasheet for restrictions)
 * Note: Some GPIOs may have restrictions (e.g., GPIO 6-11 are typically flash/PSRAM)
 * Note: This LED is separate from the RGB LEDs used for mesh communication
 * Note: All blinking patterns use 1-second (1000ms) total cycle time
 */
// #define ROOT_STATUS_LED_GPIO      3  // Optional: GPIO pin for root status LED (disabled by default)

/* Root Status LED Invert Flag - Optional flag to invert LED logic (active-low LEDs)
 *
 * This is an OPTIONAL feature that is DISABLED BY DEFAULT (not set in this example).
 * If undefined, root status LED uses active-high logic (GPIO HIGH = LED ON, GPIO LOW = LED OFF).
 *
 * When defined, the LED logic is inverted:
 * - LED ON (led_state = true) → GPIO LOW (0)
 * - LED OFF (led_state = false) → GPIO HIGH (1)
 *
 * Use this flag if your hardware uses:
 * - Active-low LEDs (LED ON when GPIO is LOW)
 * - LEDs connected through inverters
 * - Any hardware configuration requiring inverted GPIO logic
 *
 * To enable this feature, uncomment the line below:
 * #define ROOT_STATUS_LED_INVERT
 *
 * Note: This flag only affects GPIO level logic - blinking patterns and timing remain the same
 * Note: All GPIO level assignments in root_status_led.c respect this flag
 * Note: This flag is optional and disabled by default (maintains backward compatibility)
 */
// #define ROOT_STATUS_LED_INVERT  // Optional: Invert LED logic (active-low LEDs)

/*******************************************************
 *                External Web Server Configuration
 *******************************************************/

/* ONLY_ONBOARD_HTTP - Completely disable external webserver functionality
 *
 * When defined, all external webserver functionality is disabled at compile time:
 * - No mDNS initialization or discovery
 * - No UDP broadcast listener
 * - No UDP API listener
 * - No discovery task
 * - No registration attempts
 * - All external server code paths are conditionally compiled out
 *
 * This reduces socket usage and ensures the embedded HTTP server always has
 * sufficient resources. Use this flag when you only need the onboard HTTP server
 * and want to minimize resource usage.
 *
 * Default: Undefined (external webserver functionality enabled)
 * To enable: Uncomment the line below
 */
// #define ONLY_ONBOARD_HTTP  // Disable external webserver functionality (onboard HTTP only)

#endif /* __MESH_DEVICE_CONFIG_H__ */
